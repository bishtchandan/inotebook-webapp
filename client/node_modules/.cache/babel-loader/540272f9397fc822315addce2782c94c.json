{"ast":null,"code":"import _defineProperty from\"/home/chandan/Desktop/projects/inotebook-webapp/backend/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/chandan/Desktop/projects/inotebook-webapp/backend/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/chandan/Desktop/projects/inotebook-webapp/backend/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/chandan/Desktop/projects/inotebook-webapp/backend/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/chandan/Desktop/projects/inotebook-webapp/backend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Signup=function Signup(props){var _jsx2,_jsx3;var _useState=useState({name:\"\",email:\"\",password:\"\",cpassword:\"\"}),_useState2=_slicedToArray(_useState,2),credentials=_useState2[0],setCredentials=_useState2[1];var history=useHistory();var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var name,email,password,cpassword,response,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();name=credentials.name,email=credentials.email,password=credentials.password,cpassword=credentials.cpassword;_context.next=4;return fetch(\"http://localhost:5000/api/auth/createuser\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name:name,email:email,password:password})});case 4:response=_context.sent;_context.next=7;return response.json();case 7:json=_context.sent;console.log(json);if(json.success){// redirect\nlocalStorage.setItem('token',json.authtoken);history.push(\"/login\");props.showAlert(\"Account created successfully\",\"success\");}else{props.showAlert(\"Invalid Credentials\",\"danger\");}case 10:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var onChange=function onChange(e){setCredentials(_objectSpread(_objectSpread({},credentials),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\" my-2 text-center\",children:\"Create Account to use iNotebook\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",className:\"form-label\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"name\",name:\"name\",onChange:onChange,\"aria-describedby\":\"emailHelp\"}),/*#__PURE__*/_jsx(\"div\",{id:\"emailHelp\",className:\"form-text\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form-label\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",name:\"email\",onChange:onChange,\"aria-describedby\":\"emailHelp\"}),/*#__PURE__*/_jsx(\"div\",{id:\"emailHelp\",className:\"form-text\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",(_jsx2={type:\"password\",className:\"form-control\",id:\"password\",name:\"password\",onChange:onChange},_defineProperty(_jsx2,\"name\",\"password\"),_defineProperty(_jsx2,\"minLength\",5),_defineProperty(_jsx2,\"required\",true),_jsx2))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"cpassword\",className:\"form-label\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",(_jsx3={type:\"password\",className:\"form-control\",id:\"cpassword\",name:\"cpassword\",onChange:onChange},_defineProperty(_jsx3,\"name\",\"cpassword\"),_defineProperty(_jsx3,\"minLength\",5),_defineProperty(_jsx3,\"required\",true),_jsx3))]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Submit\"})]})]});};export default Signup;","map":{"version":3,"sources":["/home/chandan/Desktop/projects/inotebook-webapp/backend/client/src/components/Signup.js"],"names":["React","useState","useHistory","Signup","props","name","email","password","cpassword","credentials","setCredentials","history","handleSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","response","json","console","log","success","localStorage","setItem","authtoken","push","showAlert","onChange","target","value"],"mappings":"mtBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,UAAT,KAA2B,kBAA3B,C,wFAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,CAAW,iBACtB,cAAsCH,QAAQ,CAAC,CAAEI,IAAI,CAAE,EAAR,CAAYC,KAAK,CAAE,EAAnB,CAAuBC,QAAQ,CAAE,EAAjC,CAAqCC,SAAS,CAAE,EAAhD,CAAD,CAA9C,wCAAOC,WAAP,eAAoBC,cAApB,eACA,GAAIC,CAAAA,OAAO,CAAGT,UAAU,EAAxB,CACA,GAAMU,CAAAA,YAAY,0FAAG,iBAAOC,CAAP,kKACjBA,CAAC,CAACC,cAAF,GACQT,IAFS,CAE4BI,WAF5B,CAETJ,IAFS,CAEHC,KAFG,CAE4BG,WAF5B,CAEHH,KAFG,CAEIC,QAFJ,CAE4BE,WAF5B,CAEIF,QAFJ,CAEcC,SAFd,CAE4BC,WAF5B,CAEcD,SAFd,uBAGMO,CAAAA,KAAK,CACxB,2CADwB,CAExB,CACIC,MAAM,CAAE,MADZ,CAEIC,OAAO,CAAE,CACL,eAAgB,kBADX,CAFb,CAKIC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEf,IAAI,CAAJA,IAAF,CAAQC,KAAK,CAALA,KAAR,CAAeC,QAAQ,CAARA,QAAf,CAAf,CALV,CAFwB,CAHX,QAGXc,QAHW,qCAaEA,CAAAA,QAAQ,CAACC,IAAT,EAbF,QAaXA,IAbW,eAcjBC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACA,GAAIA,IAAI,CAACG,OAAT,CAAkB,CACd;AACAC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BL,IAAI,CAACM,SAAnC,EACAjB,OAAO,CAACkB,IAAR,CAAa,QAAb,EACAzB,KAAK,CAAC0B,SAAN,CAAgB,8BAAhB,CAAgD,SAAhD,EACH,CALD,IAMK,CACD1B,KAAK,CAAC0B,SAAN,CAAgB,qBAAhB,CAAuC,QAAvC,EACH,CAvBgB,uDAAH,kBAAZlB,CAAAA,YAAY,4CAAlB,CAyBA,GAAMmB,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAClB,CAAD,CAAO,CACpBH,cAAc,gCAAMD,WAAN,wBAAoBI,CAAC,CAACmB,MAAF,CAAS3B,IAA7B,CAAoCQ,CAAC,CAACmB,MAAF,CAASC,KAA7C,GAAd,CACH,CAFD,CAGA,mBACI,aAAK,SAAS,CAAC,MAAf,wBACI,WAAI,SAAS,CAAC,mBAAd,6CADJ,cAEI,cAAM,QAAQ,CAAErB,YAAhB,wBACI,aAAK,SAAS,CAAC,MAAf,wBACI,cAAO,OAAO,CAAC,MAAf,CAAsB,SAAS,CAAC,YAAhC,kBADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,cAA7B,CAA4C,EAAE,CAAC,MAA/C,CAAsD,IAAI,CAAC,MAA3D,CAAkE,QAAQ,CAAEmB,QAA5E,CAAsF,mBAAiB,WAAvG,EAFJ,cAGI,YAAK,EAAE,CAAC,WAAR,CAAoB,SAAS,CAAC,WAA9B,4DAHJ,GADJ,cAMI,aAAK,SAAS,CAAC,MAAf,wBACI,cAAO,OAAO,CAAC,OAAf,CAAuB,SAAS,CAAC,YAAjC,2BADJ,cAEI,cAAO,IAAI,CAAC,OAAZ,CAAoB,SAAS,CAAC,cAA9B,CAA6C,EAAE,CAAC,OAAhD,CAAwD,IAAI,CAAC,OAA7D,CAAqE,QAAQ,CAAEA,QAA/E,CAAyF,mBAAiB,WAA1G,EAFJ,cAGI,YAAK,EAAE,CAAC,WAAR,CAAoB,SAAS,CAAC,WAA9B,4DAHJ,GANJ,cAWI,aAAK,SAAS,CAAC,MAAf,wBACI,cAAO,OAAO,CAAC,UAAf,CAA0B,SAAS,CAAC,YAApC,sBADJ,cAEI,qBAAO,IAAI,CAAC,UAAZ,CAAuB,SAAS,CAAC,cAAjC,CAAgD,EAAE,CAAC,UAAnD,CAA8D,IAAI,CAAC,UAAnE,CAA8E,QAAQ,CAAEA,QAAxF,+BAAuG,UAAvG,oCAA6H,CAA7H,gDAFJ,GAXJ,cAeI,aAAK,SAAS,CAAC,MAAf,wBACI,cAAO,OAAO,CAAC,WAAf,CAA2B,SAAS,CAAC,YAArC,8BADJ,cAEI,qBAAO,IAAI,CAAC,UAAZ,CAAuB,SAAS,CAAC,cAAjC,CAAgD,EAAE,CAAC,WAAnD,CAA+D,IAAI,CAAC,WAApE,CAAgF,QAAQ,CAAEA,QAA1F,+BAAyG,WAAzG,oCAAgI,CAAhI,gDAFJ,GAfJ,cAmBI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,oBAnBJ,GAFJ,GADJ,CA0BH,CAzDD,CA2DA,cAAe5B,CAAAA,MAAf","sourcesContent":["import React, { useState } from 'react'\nimport { useHistory } from 'react-router-dom';\n\nconst Signup = (props) => {\n    const [credentials, setCredentials] = useState({ name: \"\", email: \"\", password: \"\", cpassword: \"\" })\n    let history = useHistory();\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        const { name, email, password, cpassword } = credentials\n        const response = await fetch(\n            \"http://localhost:5000/api/auth/createuser\",\n            {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({ name, email, password }),\n            }\n        );\n        const json = await response.json();\n        console.log(json);\n        if (json.success) {\n            // redirect\n            localStorage.setItem('token', json.authtoken);\n            history.push(\"/login\");\n            props.showAlert(\"Account created successfully\", \"success\");\n        }\n        else {\n            props.showAlert(\"Invalid Credentials\", \"danger\");\n        }\n    }\n    const onChange = (e) => {\n        setCredentials({ ...credentials, [e.target.name]: e.target.value })\n    }\n    return (\n        <div className=\"mt-2\">\n            <h2 className=\" my-2 text-center\">Create Account to use iNotebook</h2>\n            <form onSubmit={handleSubmit}>\n                <div className=\"mb-3\">\n                    <label htmlFor=\"name\" className=\"form-label\">Name</label>\n                    <input type=\"text\" className=\"form-control\" id=\"name\" name=\"name\" onChange={onChange} aria-describedby=\"emailHelp\" />\n                    <div id=\"emailHelp\" className=\"form-text\">We'll never share your email with anyone else.</div>\n                </div>\n                <div className=\"mb-3\">\n                    <label htmlFor=\"email\" className=\"form-label\">Email address</label>\n                    <input type=\"email\" className=\"form-control\" id=\"email\" name=\"email\" onChange={onChange} aria-describedby=\"emailHelp\" />\n                    <div id=\"emailHelp\" className=\"form-text\">We'll never share your email with anyone else.</div>\n                </div>\n                <div className=\"mb-3\">\n                    <label htmlFor=\"password\" className=\"form-label\">Password</label>\n                    <input type=\"password\" className=\"form-control\" id=\"password\" name=\"password\" onChange={onChange} name=\"password\" minLength={5} required />\n                </div>\n                <div className=\"mb-3\">\n                    <label htmlFor=\"cpassword\" className=\"form-label\">Confirm Password</label>\n                    <input type=\"password\" className=\"form-control\" id=\"cpassword\" name=\"cpassword\" onChange={onChange} name=\"cpassword\" minLength={5} required />\n                </div>\n                <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n            </form>\n        </div>\n    )\n}\n\nexport default Signup\n"]},"metadata":{},"sourceType":"module"}