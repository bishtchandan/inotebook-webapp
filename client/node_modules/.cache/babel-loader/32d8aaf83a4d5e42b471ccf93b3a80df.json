{"ast":null,"code":"import _defineProperty from\"/home/chandan/Desktop/projects/inotebook-webapp/backend/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/chandan/Desktop/projects/inotebook-webapp/backend/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/chandan/Desktop/projects/inotebook-webapp/backend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useRef,useState}from'react';import{useHistory}from'react-router-dom';import noteContext from'../context/notes/noteContext';import AddNote from'./AddNote';import Noteitem from'./Noteitem';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Notes=function Notes(props){var context=useContext(noteContext);var history=useHistory();var notes=context.notes,getNotes=context.getNotes,editNote=context.editNote;useEffect(function(){if(localStorage.getItem('token')){getNotes();}else{history.push('/login');}// eslint-disable-next-line\n},[]);var _useState=useState({id:\"\",etitle:\"\",edescription:\"\",etag:\"\"}),_useState2=_slicedToArray(_useState,2),note=_useState2[0],setnNote=_useState2[1];var updateNote=function updateNote(currentNote){ref.current.click();setnNote({id:currentNote._id,etitle:currentNote.title,edescription:currentNote.description,etag:currentNote.tag});};var ref=useRef(null);var refClose=useRef(null);var handleClick=function handleClick(e){editNote(note.id,note.etitle,note.edescription,note.etag);refClose.current.click();};var onChange=function onChange(e){setnNote(_objectSpread(_objectSpread({},note),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AddNote,{showAlert:props.showAlert}),/*#__PURE__*/_jsx(\"button\",{ref:ref,type:\"button\",className:\"btn btn-primary d-none\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",children:\"Launch demo modal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",children:\"Edit Note\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"my-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etitle\",name:\"etitle\",value:note.etitle,\"aria-describedby\":\"emailHelp\",onChange:onChange,minLength:5,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"edescription\",name:\"edescription\",value:note.edescription,onChange:onChange,minLength:5,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tag\",className:\"form-label\",children:\"Tag\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etag\",name:\"etag\",value:note.etag,onChange:onChange})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{ref:refClose,type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{disabled:note.etitle<5||note.edescription<5,onClick:handleClick,type:\"button\",className:\"btn btn-primary\",children:\"update note\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row my-3\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Notes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container mx-2\",children:notes.length===0&&'No notes to display'}),notes.map(function(note){return/*#__PURE__*/_jsx(Noteitem,{updateNote:updateNote,showAlert:props.showAlert,note:note},note._id);})]})]});};export default Notes;","map":{"version":3,"sources":["/home/chandan/Desktop/projects/inotebook-webapp/backend/client/src/components/Notes.js"],"names":["React","useContext","useEffect","useRef","useState","useHistory","noteContext","AddNote","Noteitem","Notes","props","context","history","notes","getNotes","editNote","localStorage","getItem","push","id","etitle","edescription","etag","note","setnNote","updateNote","currentNote","ref","current","click","_id","title","description","tag","refClose","handleClick","e","onChange","target","name","value","showAlert","length","map"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useRef, useState } from 'react'\nimport { useHistory } from 'react-router-dom';\nimport noteContext from '../context/notes/noteContext'\nimport AddNote from './AddNote'\nimport Noteitem from './Noteitem';\n\nconst Notes = (props) => {\n    const context = useContext(noteContext);\n    let history = useHistory();\n    const { notes, getNotes, editNote } = context;\n    useEffect(() => {\n        if(localStorage.getItem('token')){\n            getNotes();\n        }\n        else{\n           history.push('/login') \n        }\n        // eslint-disable-next-line\n    }, [])\n    const [note, setnNote] = useState({id: \"\" , etitle: \"\", edescription: \"\", etag: \"\"})\n    const updateNote = (currentNote) => {\n        ref.current.click();\n        setnNote({id: currentNote._id, etitle: currentNote.title, edescription: currentNote.description, etag: currentNote.tag})\n    }\n    const ref = useRef(null)\n    const refClose = useRef(null)\n\n    const handleClick= (e)=>{\n        editNote(note.id, note.etitle, note.edescription, note.etag);\n        refClose.current.click();\n    }\n    const onChange=(e)=>{\n        setnNote({...note, [e.target.name]: e.target.value})\n    }\n    return (\n        <>\n            <AddNote showAlert={props.showAlert}/>\n            <button ref={ref} type=\"button\" className=\"btn btn-primary d-none\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\n                Launch demo modal\n            </button>\n\n            <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                <div className=\"modal-dialog\">\n                    <div className=\"modal-content\">\n                        <div className=\"modal-header\">\n                            <h5 className=\"modal-title\" id=\"exampleModalLabel\">Edit Note</h5>\n                            <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                        </div>\n                        <div className=\"modal-body\">\n                            <form className=\"my-3\">\n                                <div className=\"mb-3\">\n                                    <label htmlFor=\"title\" className=\"form-label\">Title</label>\n                                    <input type=\"text\" className=\"form-control\" id=\"etitle\" name=\"etitle\" value={note.etitle} aria-describedby=\"emailHelp\" onChange={onChange} minLength={5} required/>\n                                </div>\n                                <div className=\"mb-3\">\n                                    <label htmlFor=\"description\" className=\"form-label\">Description</label>\n                                    <input type=\"text\" className=\"form-control\" id=\"edescription\" name=\"edescription\" value={note.edescription} onChange={onChange} minLength={5} required/>\n                                </div>\n                                <div className=\"mb-3\">\n                                    <label htmlFor=\"tag\" className=\"form-label\">Tag</label>\n                                    <input type=\"text\" className=\"form-control\" id=\"etag\" name=\"etag\" value={note.etag} onChange={onChange} />\n                                </div>\n                            </form>\n                        </div>\n                        <div className=\"modal-footer\">\n                            <button ref={refClose} type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                            <button disabled={note.etitle<5 || note.edescription<5} onClick={handleClick} type=\"button\" className=\"btn btn-primary\">update note</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className=\"row my-3\">\n                <h2>Your Notes</h2>\n                <div className=\"container mx-2\">\n                    {notes.length===0 && 'No notes to display'}\n                </div>\n                {notes.map((note) => {\n                    return <Noteitem key={note._id} updateNote={updateNote} showAlert={props.showAlert} note={note} />\n                })}\n            </div>\n        </>\n    )\n}\n\nexport default Notes\n"]},"metadata":{},"sourceType":"module"}